{"name": "yahoo", "extension": ".py", "course": "CIP", "st_mode": 33204, "st_ino": 13098490, "st_dev": 16777233, "st_nlink": 1, "st_uid": 501, "st_gid": 20, "st_size": 1677, "st_atime": 1759510057.5725863, "st_mtime": 1759493734.0, "st_ctime": 1759510056.2202966, "st_birthtime": 1759493734.0, "st_blocks": 8, "st_blksize": 4096, "content": "#!/usr/bin/env python3\n\"\"\"\\\nscrape finance data of google stock from yahoo.com.\nIn the 'tr'-tags of the table, find all values of the 'span' - tag.\n\nauthors:    Ram\u00f3n Christen, Andreas Melillo\ndate:       24.09.2024\n\"\"\"\n\nimport requests\nfrom bs4 import BeautifulSoup\n\nurl = \"https://finance.yahoo.com/quote/GOOG?p=GOOG&.tsrc=fin-srch\"\nmyheaders = {\"User-Agent\" : \"Mozilla/5.0 (X11; Linux x86_64; rv:130.0) Gecko/20100101 Firefox/130.0\"}\n\nhtml_page = requests.get(url, headers = myheaders)\nsoup = BeautifulSoup(html_page.content, 'lxml')\n\n# extract information by tag and class attributes\nstock_title_text = soup.find('h1', class_='yf-4vbjci').string\nprint(\"Stocktitle:     \", stock_title_text)\n\n#current_price = soup.find(\"fin-streamer\", class_=\"livePrice yf-1tejb6\").string\ncurrent_price = soup.find(\"span\", class_=\"yf-ipw1h0\", attrs={\"data-testid\":\"qsp-price\"}).string\nprint(\"Current price:  \", current_price)\n\n# Extract information with xpath:\nfrom lxml import etree\ndom = etree.HTML(str(soup))\n#price_time_stp = dom.xpath('/html/body/div[2]/main/section/section/section/article/section[1]/div[2]/div[1]/section/div/section[1]/div[2]/span/text()')\nprice_time_stp = dom.xpath('/html/body/div[2]/main/section/section/section/section/section[1]/div[2]/div[1]/section/div/section/div[2]/span/span')\nprint(price_time_stp[0].text)\n\n# get all quote statistics\nquote_stat = soup.find(\"div\", attrs={'data-testid': 'quote-statistics'})\n\n# extract all statistic list elements\nall_stat = quote_stat.find_all(\"li\")\n\n# extract all statistic values and merge in dictionary list\nprint(60*'-')\nprint(*[\"{:<30}{:>30}\".format(*s.stripped_strings) for s in all_stat], sep='\\n')\nprint(60*'-')\n\n"}